<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Snake</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{
  margin:0;
  height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  background: radial-gradient(circle at top,#e8f0fe,#fce8e6,#e6f4ea);
  font-family: system-ui, -apple-system, BlinkMacSystemFont, Arial, sans-serif;
}
#card{
  background:#fff;
  border-radius:20px;
  padding:18px;
  box-shadow:0 30px 70px rgba(0,0,0,.25);
  position:relative;
}
canvas{
  background:#f1f3f4;
  border-radius:16px;
}
#overlay{
  position:absolute;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
}
#panel{
  background:#fff;
  padding:24px 28px;
  border-radius:18px;
  box-shadow:0 25px 60px rgba(0,0,0,.3);
  text-align:center;
}
#panel h1{
  margin:0 0 10px;
  font-size:24px;
}
#panel p{
  margin:6px 0;
  font-size:14px;
}
#panel button{
  margin-top:14px;
  padding:9px 20px;
  border:none;
  border-radius:999px;
  background:#1a73e8;
  color:#fff;
  font-size:14px;
  cursor:pointer;
}
#panel button:hover{background:#1558b0}
#brand{
  margin-top:10px;
  font-size:11px;
  opacity:.55;
  letter-spacing:.4px;
}
</style>
</head>
<body>

<div id="card">
  <canvas id="game" width="320" height="320"></canvas>
  <div id="overlay">
    <div id="panel">
      <h1 id="title">Snake</h1>
      <p id="info">Use arrow keys</p>
      <button onclick="start()">Play</button>
      <div id="brand"></div>
    </div>
  </div>
</div>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");
const grid = 20;

let snake, food, dx, dy, score, loop, running=false;
const overlay = document.getElementById("overlay");
const title = document.getElementById("title");
const info = document.getElementById("info");
const brand = document.getElementById("brand");

function start(){
  snake=[{x:160,y:160}];
  food=randomFood();
  dx=grid; dy=0;
  score=0;
  running=true;
  brand.textContent="";
  overlay.style.display="none";
  clearInterval(loop);
  loop=setInterval(tick,110);
}

function gameOver(){
  running=false;
  clearInterval(loop);
  title.textContent="Game Over";
  info.textContent="Score: "+score;
  brand.textContent="Snake game by Vrishab Varun";
  overlay.style.display="flex";
}

function randomFood(){
  return{
    x:Math.floor(Math.random()*16)*grid,
    y:Math.floor(Math.random()*16)*grid
  };
}

function drawSnake(){
  snake.forEach((p,i)=>{
    ctx.fillStyle=i===0?"#1a73e8":"#34a853";
    ctx.beginPath();
    ctx.roundRect(p.x,p.y,grid,grid,9);
    ctx.fill();

    if(i===0){
      ctx.fillStyle="#fff";
      let ex = dx>0?13:dx<0?7:10;
      let ey = dy>0?13:dy<0?7:10;
      ctx.beginPath();
      ctx.arc(p.x+ex,p.y+ey,2.6,0,Math.PI*2);
      ctx.fill();
    }
  });
}

function tick(){
  const head={x:snake[0].x+dx,y:snake[0].y+dy};
  if(head.x<0||head.y<0||head.x>=320||head.y>=320||
     snake.some(s=>s.x===head.x&&s.y===head.y)){
    gameOver(); return;
  }
  snake.unshift(head);
  if(head.x===food.x&&head.y===food.y){
    score++;
    food=randomFood();
  }else snake.pop();

  ctx.clearRect(0,0,320,320);

  ctx.fillStyle="#ea4335";
  ctx.shadowColor="#ea4335";
  ctx.shadowBlur=10;
  ctx.beginPath();
  ctx.arc(food.x+10,food.y+10,8,0,Math.PI*2);
  ctx.fill();
  ctx.shadowBlur=0;

  drawSnake();
}

document.addEventListener("keydown",e=>{
  if(!running) return;
  if(e.key==="ArrowUp"&&dy===0){dx=0;dy=-grid;}
  if(e.key==="ArrowDown"&&dy===0){dx=0;dy=grid;}
  if(e.key==="ArrowLeft"&&dx===0){dx=-grid;dy=0;}
  if(e.key==="ArrowRight"&&dx===0){dx=grid;dy=0;}
});
</script>

</body>
</html>
